<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>详细信息</title>
    <link rel="stylesheet" href="layui/css/layui.css">
    <link rel="stylesheet" href="css/detailMissInfo.css">
</head>
<body>

<button type="button" class="layui-btn" id="test1">
    <i class="layui-icon">&#xe67c;</i>更新图片
</button>


<script src="js/jquery-3.3.1.js"></script>
<script src="layer/layer.js"></script>
<script src="layui/layui.js"></script>
<script>
    //头像上传
    layui.use('upload', function () {
        var upload = layui.upload;

        //执行实例
        var uploadInst = upload.render({
            elem: '#test1' //绑定元素
            , url: '/upload/MissPersonPic' //上传接口
            , data: {"userID": 1}
            , multiple: true
            , allDone: function (obj) { //当文件全部被提交后，才触发
                console.log(obj.total); //得到总文件数
                console.log(obj.successful); //请求成功的文件数
                console.log(obj.aborted); //请求失败的文件数
            }
            , done: function (res, index, upload) { //每个文件提交一次触发一次。详见“请求成功的回调”
                console.info("res:  " + res)
                console.info("index:   " + index)
                console.info("upload:   " + upload)

            }
        })
    });
</script>
</body>
</html>